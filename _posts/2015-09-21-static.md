---
layout: post
title: "iOS static"
description: ""
category: swift
tags: [OC,swift, iOS]
---

首先static的最主要功能是隐藏，其次因为static变量存放在静态存储区，所以它具备持久性和默认值0。

可以用来定义单例，程序结束后才会被释放：
static标记的变量会存储到全局变量区，生命周期和程序相同。static只在声明的类中可见。
在声明的类中结束后，局部变量在代码块结束后将不会回收，再次使用还是之前的值。(单例)

```swift
static let defaultManger = DataManager()
```

什么是静态变量：从面向对象的角度出发，当需要一个数据对象为整个类而不是某个对象服务，同时又力求不破坏类的封装性，既要求此成员隐藏在类的内部，又要求对外不可见的时候，就可以使用static

在类中的 static 成员变量属于整个类所拥有，对类的所有对象只有一份拷贝

类方法：static，class
class修饰的类方法可以被重写，static修饰的类方法不能被重写


[原文链接：](http://blog.sina.com.cn/s/blog_134451adb0102wfrn.html)
著作权归作者所有，转载请联系作者获得授权。

---------------------------------------------------------------------
1、定义

什么是静态变量：从面向对象的角度触发，当需要一个数据对象为整类而非某个对象服务，同时又力求不破坏类的封装性；既要求此成员隐藏在类的内部，又要求对外不可见的时候，就可以使用static。

2、作用

（1）函数体内 static 变量的作用范围为该函数体，不同于 auto 变量，在编译期就会初始化，也就是说这个静态变量值要么为nil，要么在编译期就可以确定其值，生命周期和程序相同，其内存只被分配一次并存储到全局变量区，因此其值在下次调用时仍维持上次的值；

（2）在模块内的 static 全局变量可以被模块内所用函数访问，但不能被模块外其它函数访问；

（3）在模块内的 static 函数只可被这一模块内的其它函数调用，这个函数的使用范围被限制在声明它的模块内；

（4）在类中的 static 成员变量属于整个类所拥有，对类的所有对象只有一份拷贝；

（5）在类中的 static 成员函数属于整个类所拥有，这个函数不接收 this 指针，因而只能访问类的static 成员变量。  

修饰局部变量：

1.延长局部变量的生命周期,程序结束才会销毁。

2.局部变量只会生成一份内存,只会初始化一次。

3.改变局部变量的作用域。

修饰全局变量

1.只能在本文件中访问,修改全局变量的作用域,生命周期不会改

2.避免重复定义全局变量

3、优点

·节省内存。静态变量只存储一处，但供所有对象使用。

·它的值是可以更新的。

·可提高时间效率。只要某个对象对静态变量更新一次，所有的对象都能访问更新后的值

4、注意

1）静态方法只能调用静态方法和静态变量

2）如果.m文件和方法体里面定义了同名的static 变量，那么方法体里面的实例变量和全局的static变量不会冲突，在方法体内部访问的static变量和全局的static变量是不同的。
